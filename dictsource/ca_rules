// translation rules for Catalan
// This file is UTF8 encoded

// OPTIONS (accents)
// This version of espeak takes into account 4 varieties of catalan:
//      ?1 general eastern. central specific characteristics 
//      ?2 general western. north-western specific characteristics 
//      ?3 valencian specific characteristics (valencian is 2+3. 3 overwrites 2)
//      ?4 balearic specific characteristics (balearic is 1+4. 4 overwrites 1)
// We have tried to make the rules and lists of transcriptions as general as posible, 
// and to deal with the particularities of each accent (for instance, unestressed vowels and [v] in Central accent) 
// in the definition of the phonemes (ph_catalan* files), when it has been feasible to do so.

// ALTERNATIVE RULES
// $alt1: e is an e and o is an o
// $alt2: e is an E and o is an O
// $alt3: avoid BL and GL gemination
// $alt4: final -ig is [ik] or last consonant (r, t) is not silent
// $alt5: not secondary stress. words with stressed @ in Balearic
// $alt6: h is pronunced [X]

// LETTER GROUPS
//      A  any vowel
//      C  any consonant
//      K  not a vowel (i.e. consonant or word boundary)
//      X  There is no vowel until the word boundary.

.L01 i í e é è          // front vowels
.L02 a o à ò ó u        // center and back vowels
.L03 a e o              // strong vowels
.L04 i u                // weak vowels
.L05 à è é í ò ó ú      // stressed vowels

.L10 p t k f s          // unvoiced
.L11 b d g m v l n r z j// voiced
.L12 b d g m v n z j    // voiced, not r or l
.L13 p t k b d g q      // plosives
.L14 s z x j ge gi ce ci// fricatives


.L15 c ç                // ces
.L16 q g                // letters that can be followed by an u

.L20 c q g              // velars
.L21 p b v m            // bilabials

.L25 ce sa vi           // not silent +nt

.group a
        a          a
        ae         aE2  // do not reduce
        ahe        aE2  // do not reduce
        
    un) a (_hora        // elision 
 _quin) a (_hora        // elision 
  _bon) a (_hora        // elision 
 _mitj) a (_hora        // elision 
   _ar) a (_A           // elision

    // prefixes with secondary stress
    _)  a (nte@@   ,a   // (antepenúltim)
    _)  a (nti@@   ,a   // (antepenúltim)
    _)  ae  (ro@@  ,ae2
   _f)  a (rmaco   ,a   // (farmacognòsia)
  _gu)  a (rda     ,a   // (guardabosc)
   _v)  a (so@     ,a   // (vasoconstrictor)
   _m)  a (cro@     ,a  // (macro-)
    
    // words that it is not a prefix
   _m)  a (lalt    a    // (malalt)
   _m)  a (lefi    a    // (malefici)
   _m)  a (lic     a    // (maliciós)
   _m)  a (ll      a    // (mallorquí)
   _m)  a (l·l     a    // (mal·leable)
    _)  a (utoritz a    // (autorització)
    _)  a (nte@@$w_alt5 a   // (anterior)
    _)  a (nti@@$w_alt5 a   // (antilop)
    _)  a (uto@@$w_alt5 a   // (autodestrucció)
  _gu)  a (rda$w_alt5   a   // (guardabosc)
   _m)  a (l@$w_alt5    a   // (malpensar)
   
.group b
        b          b    
  _bi)  bl (io     Bl   // avoid gemination 
  _su)  bl (im     Bl   // avoid gemination 
        bm         mm   // assimilation 
?3      bm         bm   // assimilation 
    A)  bl (A      bbl  // gemination (poble)
    A)  bl (A$w_alt3+    Bl // avoid gemination 
    o)  bl (id     Bl   // avoid gemination (oblidar) 
?2  A)  bl (A      Bl   // avoid gemination in western accents (poble)
  _su)  b  (A      p    // prefix "sub-"
  _su)  b  (urbi   b    // not prefix "sub-"
?3 _su) b  (sC          // (subscriure)
?4 _su) b  (sC          // (subscriure)
?3  _o) b  (sC         
?4  _o) b  (sC         
?4   A) brs (_A     dds // (obrs una porta)
  
 
.group c
        c          k    // (casa)
        c (L01     s    // (cirera)
        ch         tS   // (chihuahua)
        ch (_      k    // (lluch, llach, folch, etc.)
        ck         k    // foreign words
           
?4 Aix_) c (L01    ts   // dissimilation (peix celíac)
?4   s_) c (L01    ts   // (dos celíacs)
?4   ç_) c (L01    ts   // (dolç celest)
?4 Aig_) c (L01    ts
?4 Atx_) c (L01    ts

.group ç
        ç (_       =s    // (llaç)
  L05J) ç         s      
        ç         s
        
        ç (_A     z     // (llaç estret)
        ç (_hA    z     // (llaç hebreu)
        ç (_L11   z     // (llaç bonic
        
?4   A) ç (_s     t     // pronounce -s as -t if followed by an s (llaç sedós)
?4   A) ç (_z     d     // pronounce -s as -d if followed by an z (llaç zenital)
?4   A) ç (_cL01  t     // pronounce -s as -t  if followed by -ce/ci 
?4   A) ç (-cL01  t     // pronounce -s as -t  if followed by -ce/ci
?4   A) ç (_x     t     // dissimilation (llaç xarop)
?4   A) ç (_j     d     // dissimilation (llaç joc)
?4   A) ç (_gL01  d     // dissimilation (llaç gerro)
 
.group d
        d          d    
     _) d' (P2     d    // apostrophe
   _su) d (-       t
  _nor) d (-       t
?3  _a) d (sC           // (adscriure)
?4  _a) d (sC


.group e
        e          e
        e ($w_alt1++ e  // wordlist
        e ($w_alt2++ E  // wordlist
?4      e ($w_alt5++ @  // wordlist: balearic stressed @
    -t) e (_       e%
?1  qu) e (_e           // elision (que ell...)
?1  qu) e (_a           // elision (que ara...)
    
    // initial e pronounced a - western accents
?2   _) e (n@       a   // (entendre)
?2   _) e (m@       a   // (embolicar)
?2   _) e (s@       a   // (estendre)
?2   _) e (ix@      a   // (eixir)
    
    // contextual e rules
        e (nt_     e
        e (rL21    e    // (herba, serp, terme. but ferm, erm)
        e (r_      e    // (Roger)
        e (rs_     e    // (Rogers)
        e (ro_     e    // (torero)
        e (ra_     e    // (cremallera)
        e (res_    e    // (cremalleres)
        e (ll      e    // (canell)
        e (st      e    
        e (mt      e     
        e (nt      e    // (menta)
        e (nd      e     
        e (ix      e     
        e (mbr     e
        e (ssi     e    // subjuntius
     v) e (sp      e    // (vespre)
     v) e (tll     e    // (vetlla)
    tr) e (t       e    // (trets)
     l) e (ma_     e     
     l) e (mes_    e     
    cr) e (t       e     
    cr) e (p       e     
     c) e (rcl     e     
    pr) e (g       e    // (prego)
   _pr) e (A       e2   // (preescriptura)
    _r) e (L03     e2   // (reescriptura)
     n) e (g       e    // (nego)
    _s) e (g       e    // (sego)
  sist) e (m       e    // (sistema)
    al) e (gr      e    // (alegre)
   _ll) e          e     
     f) e (t       e
    gr) e (u       e
   arr) e (r       e
    _b) e (llug    e
    _r) e (g       e    // (regne, regno, etc.)
     _) e (ntrevis e    // entrevista
     _) e (ntren   e    // entrenar
    _r) e (tron    e    // (retronar)
    _r) e (troc    e    // (retrocedir)
    _r) e (trob    e    // (retrobar)
    _r) eu (bi     e2u  // (reubicar)
    _r) eu (nifi   e2u  // (reunificar)
    _r) eu (rbanitz  e2u    // (reurbanitzar)
    _r) eu (tilitz   e2u    // (reutilitzar)
    _r) ee (ixi    e    // (reeixir)
    _r) ei (mpr    e2i  // (reimpressió)
    _r) ei (nc     e2i  // (reincidència, reincorporació)
    _r) ei (naugur e2i  // (reinaugur)
    _r) ei (ngr    e2i  // (reingressar)
    _r) ei (ntent  e2i  // (reintentar)
    _r) ei (inter  e2i  // (reinterpretar)
        
    // contextual E rules
        e (l       E    // (elm)
        e (x       E    
        e (r       E    // (merla, ferro. but però Berga i Matadepera)
        e  (j      E
    c)  e  (b      E
   con) e (ix      E 
     n) e (rv      E 
     v) e (rb      E
     v) e (rs      E
  conv) e (x       E
     d) e (rm      E
    sp) e (rm      E
    
    // accent variants
?1      e (ct      e    // (subjecte)
?1   t) e (xt      e    // (text)
?1      e (ma_     E    // (problema) 
?1      e (mes_    E    
?1   t) e (ca_     E    // (biblioteca)
?1   t) e (ques_   E    
?1      e (u       E    // (creu, veu, deu)
?1      e (g       E    
?1   @) e (ix      E     
?1      e (t       E    // (barrufet)
?1      e (c       E    
?1      e (i       E    
?1      e (s       E    
?1      e (m       E    
?1      e (na_     E    
?1      e (nes_    E    
?1      e (n       E    
?1      e (d_      E    
?1      e (ds_     E    
?1      e (da_     E    
?1      e (des_    E    

?2 fon) e (m       e    // (fonema)
?2      e (cte_    E    // (perfecte)
?2      e (cta_    E    // (perfecta)
?2      e (ctes_   E    // (perfectes)
?2      e (ixu     a    // (eixugar. according with https://giec.iec.cat/textgramatica/codi/3.3.4.1 -e)

?3   @) eix (_     iS   // terminació verbs incoatius (afegeix)
?3   @) eix (@     iS   // terminació verbs incoatius (afegeix)

?4   @) e (ix_+    @    
?4   C) e (ix      e     
?4      e (t_++    @    // (barrufet)
?4      e (ta_++   @    
?4      e (ts_++   @    
?4      e (tes_++  @    
?4      e (nc_     @    
?4      e (nca_    @    
?4      e (ncs_    @
?4      e (nques_  @ 
?4      e (ny_     @  
?4      e (nys_    @ 
?4      e (sc_     @ 
?4      e (sca_    @
?4      e (scs_    @
?4      e (scos_   @
?4      e (sques_  @
?4      e (sa_     @
?4      e (sos_    @
?4      e (ses_    @
?4      e (i_      @
?4      e (ia_     @
?4      e (is_     @
?4      e (ies_    @
?4      e (ina_    @
?4      e (ines_   @
?4      e (na_     @
?4      e (ns_     @
?4      e (nes_    @
?4      e (c_+     E    // (espetec)
?4      e (g_+     E
?4      e (i+      @
?4      e (s+      @
?4      e (m@+     @
?4      e (d_+     @
?4      e (ds_+    @
?4      e (da_+    @
?4      e (des_+   @
?4      e (ga_+    @
?4      e (gues_+  @
 
    // prefixes with secondary stress
     _) e (ntreA   ,e   // (entreacte)
     _) e (ntreC   ,e   // (entresòl)
    _a) e (ro      ,e
    _b) e (ll      ,e    
  _jud) e (o       ,e
    _c) e (ntre@   ,e
     _) e (ntre@   ,e
    _h) e (tero    ,e
    _n) e (o@      ,e
  _pal) e (o       ,e
    _r) e (ra      ,e
   _el) e (ctro@   ,E
  _est) e (reo     ,E   // estereotipat
     _) e (xtra    ,E
 _magn) e (to      ,E
    _m) e (dico    ,E
    _m) e (nys     ,E
    _n) euro (@     ,Ew**o2
   _ps) e (udo     ,E
    _r) e (tro     ,E
    _s) e (mi@     ,E   // (semiconductor)
    _s) e (rvo@    ,E   // (semiconductor)
    _t) e (rmo@    ,E   // (termogènesi)

    // accent variants for prefixes with secondary stress
?2  _m) e (nys     ,e
?2  _n) e (uro     ,e
?2  _r) e (tro     ,e
?2  _t) e (rmo@    ,e   // (termogènesi)
?2 _el) e (ctro@   ,e
?4  _m) e (nys++   ,@

    // non secondary stress
     _) e (ntreA$w_alt5	e   // (entreacte)
     _) e (ntreC$w_alt5	e   // (entresòl)
    _a) e (ro$w_alt5	e
    _b) e (ll$w_alt5	e    
  _jud) e (o$w_alt5	e
    _c) e (ntre@$w_alt5	e
     _) e (ntre@$w_alt5	e
    _h) e (tero$w_alt5	e
    _n) e (o@$w_alt5	e
  _pal) e (o$w_alt5	e
    _r) e (ra$w_alt5	e
   _el) e (ctro@$w_alt5	E
  _est) e (reo$w_alt5	E   // estereotipat
     _) e (tno$w_alt5	E
     _) e (xtra$w_alt5	E
 _magn) e (to$w_alt5	E
    _m) e (dico$w_alt5	E
    _m) e (nys$w_alt5	E
    _n) e (uro$w_alt5	E
   _ps) e (udo$w_alt5	E
    _r) e (tro$w_alt5	E
    _s) e (mi@$w_alt5	E   // (semiconductor)
    _s) e (rvo@$w_alt5	E   // (semiconductor)
    _t) e (rmo@$w_alt5	E   // (termogènesi)

    // non reduction contexts
        e (ò     e2     // (eòlic)
        e (ó     e2     // (eòlic)
        e (a     e2     // (teatre)
        e (à     e2     // (oceà)
    a)  e        e2     // (baells)
        e (ha    e2
     ò) e        e2
     ó) e        e2
        e (o     e2
 L05J)  e (e     e2     // (pàncrees)
    _t) e (le    e2     // (teletreball)
  _tel) e        e2     // (teletreball)
        
    // e > i
  _vid) eo         io2  // (videoteca)
  _lin) e (a       i    // lineal

.group f
        f          f
        ff         f

.group g
        g          g
        g  (L01    Z    // front vowel (gerra)
        gu (L01    g    // front vowel (guitarra)
        gu (L02    gw   // (guaret)
     A) gl (A      ggl  // gemination (segle)
     A) gl (Aw_alt3 Ql  // avoid gemination (aglà)
   _ne) gl (ig     Ql   // avoid gemination (negligència, etc.)
?3   A) gl (A      Ql   // avoid gemination (segle)
     _) gn         n    // gnom
        gn         gn   // designar
        
?4      gn         nn   // designar
?4 Aix_) g (L01    dZ   // dissimilation (peix gelat)
?4   s_) g (L01    dZ   // (dos gelats)
?4   ç_) g (L01    dZ   // (llaç gelat)
?4 Aig_) g (L01    dZ
?4 Atx_) g (L01    dZ

.group h
        h               // silent
        h ($w_alt6  X   // (halar)
        
    // enclitics
     -) hi (_   'i
     -) ho (_    o
    A-) ho (_    w      // porta-ho [pɔ́ ɾtaw]
   Au-) ho (_    u      // dueu-ho [duˈɛwu]
?2  C-) ho (_    u      // portar-ho [pɔ́ ɾtaru]
?3  C-) ho (_+   o      // portar-ho [pɔ́ ɾtaro]
?3 Au-) ho (_+   o      // dueu-ho [duˈɛwo]

    //proclitics
     _) ho (_A   w      //  ho entra [wéntɾa]
     _) ho (_hA  w      //  ho ha entrat
    A_) ho (_C   w      //  no ho porta [n'owpɔ́ɾta]
?4  C_) ho (_C   o2     //  m'ho diu [mo ðˈiw]
?4   _) ho (_C   @w     //  ho diu [əw ðˈiw]
?4  A_) ho (_    w      //  no ho diu [nˈo w ðˈiw]
?3  K_) ho (_C   ew     //  ho porta [ewpɔ́ɾta]
?2   _) ho (_A   o      //  ho entra [wéntɾa]
?2   _) ho (_hA  o      //  ho ha entrat
?2  A_) ho (_C   o      //  no ho porta [n'owpɔ́ɾta]
      

.group i
        i          i
    // glide rules
     A) i (K       j    // glide (aigua)
    Au) i (K       i    // not glide (creui)
   _re) i (K       i    // not glide (reu)
     u) i (r_      i    // not glide ()
     u) i (sme_    i    // not glide ()
     u) i (sme_    i    // not glide ()
     A) i (A       j    // glide (maia)
     _) i (A       j    // glide (iogurt)
    _h) i (A       j    // glide (hialita)
?3  _)  i (_A      j    // glide (i altres)
?3  _)  i (_hA     j    // glide (i habitants)
   _h)  i (_hA     j    // glide (hi ha)
   _h)  i (_A      j    // glide (hi anem)
   _l)  i (_hA     j    // glide (li ha amagat)
   _l)  i (_ho_    i    // no glide (li ho porta)
   _l)  i (_A      j    // glide (li amaga)
    _)  i (_A      j    // glide (i altres)
    K)  i (_u+     i    // no glide 
   A_)  i (_       j    // glide (faré i desfaré)
    
 'i_)  i  (K++          // following and stressed i -> elision (matí incomplet)
    
    // not glide rules
     _) i (on      i    // not glide (ions + derivats)
  L16ü) i (K       i    // not glide (lingüista)
  L16u) i (A       i    // not glide (guia)
  L16u) i (K       i    // not glide (guia)    
        i (sta_    i    // not glide (deista)
        i (sme_    i    // not glide (deisme)
        i (stes_   i    // not glide (deistes)
        i (smes_   i    // not glide (deismes)
        i (ta_     i    // not glide (deita)
        i (tes_    i    // not glide (deites)
     A) i (r_      i    // verb: not glide (conduir, agrair, etc.)
     A) i (nt_     i    // verb: not glide (conduint, agraint, etc.)
     A) i (ré_     i    // verb: not glide (conduir, agrair, etc.)
     A) i (ràs_    i    // verb: not glide (conduir, agrair, etc.)
     A) i (rà_     i    // verb: not glide (conduir, agrair, etc.)
     A) i (rem_    i    // verb: not glide (conduir, agrair, etc.)
     A) i (reu_    i    // verb: not glide (conduir, agrair, etc.)
     A) i (ran_    i    // verb: not glide (conduir, agrair, etc.)
     A) i (ria_    i    // verb: not glide (conduir, agrair, etc.)
     A) i (ries_   i    // verb: not glide (conduir, agrair, etc.)
     A) i (ria_    i    // verb: not glide (conduir, agrair, etc.)
     A) i (ríem_   i    // verb: not glide (conduir, agrair, etc.)
     A) i (ríeu_   i    // verb: not glide (conduir, agrair, etc.)
     A) i (rien_   i    // verb: not glide (conduir, agrair, etc.)
  _pre) i (@       i    // prefix: not glide (preinscripció)    
  _pro) i (@       i    // prefix: not glide (preinscripció)
   _co) i (nc@     i    // prefix: not glide (coincideix)
_macro) i (@       i    // prefix: not glide (macroilla) 
  _bio) i (@       i    // prefix: not glide
   _re) i (n@      i    // prefix: not glide
        
    // prefixes with secondary stress
     _) ibero      ,iBe2**o2  // iberoromà
    _x) i (ux      ,i
     
    // not secondary stress
   _ac) i (culi$w_alt5	i  // aciculifoli
     _) i (ndo$w_alt5	i  // indoeuropeu
    _l) i (po$w_alt5	i
    _m) i (cro@$w_alt5	i
    _h) i (dro@$w_alt5	i
     _) i (nfra$w_alt5	i
    _x) i (ux$w_alt5	i
     _) i (nfra$w_alt5	i  
     _) i (nfrangi     i  // infrangible (no sec)
     
     // stress rules
        i (ns_     'i   // stress the vowel
  L05J) i (ns_     i    // do not stress the vowel
        i (ny_     'i   // stress the vowel
  L05J) i (ny_     i    // do not stress the vowel          
  
.group ix
        ix         iS     
     A) ix         jS
    gu) ix (K      iS   // pronounce i (guix)
    qu) ix (K      iS   // pronounce i (Quixot)
    gu) ix (A      iS   // pronounce i (guixa)
    qu) ix (A      iS   // pronounce i (Quixot)
    gu) ix (_A     iZ   // sonorisation + pronounce i (guix esquerdat)
    gu) ix (_L11   iZ   // sonorisation + pronounce i (guix blau)
     K) ix (A      iS   // pronounce i (mixa)
     ú) ix (K      iks  
     f) ix (A      iks  // (fixar)
     l) ix (i      iks  // (lixi)
     C) ix (K      iks  // (prefix)
     
    // accent variants
?1   A) ix (K      S    // do not pronounce i (peix)
?1   A) ix (A      S    // do not pronounce i (peixar)
?1   A) ix (_A     Z    // sonorisation + do not pronounce i (peix amable)
?1   A) ix (_L11   Z    // sonorisation + do not pronounce i (peix blau)

?4   A) ix (_r     j    // (mateix roc)
?4   A) ix (_s     t    // dissimilation (peix salat)
?4   A) ix (_cL01  t    // dissimilation (peix celíac)
?4   A) ix (_z     d    // dissimilation (mateix zero)
?4   A) ix (_x     t    // dissimilation (mateix xarop)
?4   A) ix (_j     d    // dissimilation (mateix joc)
?4   A) ix (_gL01  d    // dissimilation (mateix gerro)
     
.group ig
     A) ig (_      tS   // (goig)
     C) ig (_      itS  // (desig)
     A) ig (s_     tS   // (goigs)
     C) ig (s_     itS  // (desigs)
     A) ig (_A     dZ   // (goig ardent)
     A) ig (_L11   dZ   // (goig volgut)
     C) ig (_A     idZ  // (desig ardent)
     C) ig (_L11   idZ  // (desig volgut)
     C) ig (_$w_alt4    ik   // (pròdig)
     C) ig (s_$w_alt4   ik   // (pròdig)
   _pu) ig (A      dZ   // (puigàlber)
   _pu) ig (L11    dZ   // (puigmal)
   _pu) ig (L10    dZ   // (puigtort)
?4   A) ig (_L13   i    // (vaig portar) 
?4   A) ig (_L14   t    // (vaig portar) 
     
.group j
         j          Z    // (jota)
     
?4 Aix_) j         dZ    // dissimilation (mateix joc)
?4 Aig_) j         dZ
?4 Atx_) j         dZ
?4   s_) j         dZ    // (dos jocs)
?4   ç_) j         dZ    // (dos celíacs)
        
.group k
        k          k    // (ka)

.group l
        l          l
     _) l' (P2     l    // apostrophe

        ll         l^   // (colla)
        l (_ll     l^   // (del llop)
        lt (_      l    // (alt)
        lt (_$w_alt4    lt   // do pronounce final t
        lt (s_     l    // (alts)
        ld (_      l    // (Eudald)
        ld (s_     l    // (Eudalds)
        
    // accent variants
?2      l·l        l    // (il·lusió)
        
?3      lt (_      lt   // (alt)
?3      lt (_A     lt   // (alt)
?3      lt (_C     l    // (alt)
?3      ld (_      ld   // (alt)
?3      ld (_A     ld   // (alt)
?3      ld (_C     l    // (alt)

?4      lt (_      lt   // (alt)
?4      ld (_      ld   // (alt)
?4   _e) ls (_A   ddz   // dissimilation in balearic (els arbres)
?4   _e) ls (_hA   ddz  // dissimilation in balearic (els homes)

.group m
        m          m
     _) m' (P2     m    // apostrophe
        mp (-h     mp   // followed by clitic (interromp-ho)
   _a)  mb (_A     mb   // pronounce final b before vowel (amb ell)
   _a)  mb (_hA    mb   // pronounce final b before vowel (amb ell)
        mpr        mpr  // (compra)
   _co) mpr (endr  mp   // (comprendran)
    _e) mpr (endr  mp   // (emprendran)
        mbr        mbr  // (cambra)
        mbl        mbl  // (rambla)
   _)   mn         n    // (mnemotècnic)
        mp (_      m    // do not pronounce final p
        mp (s      m    // do not pronounce final p
        mp (cL01   m    //  (assumpció)
        mp (_C     m    // do not pronounce final p
        mb (K      m    // do not pronounce final b (amb mi) or before consonant
        mpt        mt   // do not pronouce p between m and t (compte)

    // accent variants     
?3 _a)  mb (_A     m    // pronounce "am" before vowel (amb ell)
?3 _a)  mb (_C     n    // pronounce "an" before consonant (amb tu)
?3      mp (_      mp   // do pronounce final p (valencian)
?4      mp (_      mp   // do pronounce final p (balearic)
?4      mpls (_    ms   // do pronounce final p (balearic)

    // adverbs
    @) ment (_S4t  m''en
?3  @) ment (_S4t  m''ent
?4  @) ment (_S4t  m''ent

    // not adverbs
    @) ment (_$w_alt5+	m'en
?3  @) ment (_$w_alt5+  m'ent
?3  @) ment (_C$w_alt5+ m'en
?4  @) ment (_$w_alt5+  m'ent
?4  @) ment (_C$w_alt5+ m'en

.group n
        n          n
     _) n' (P2     n    // apostrophe
        n (_       =n   // stress the vowel..
   L01) n (_       n    // ... except after e, i
  L05J) n (_       n    // ... or a previous already stressed vowel
     ï) n (_       n    // ... or a dieresi
        ny         n^   // palatalization
?4      ny (C      in   // pany
?4   A) ny (C      jn   // pany
?4      ny (_C     in   // pany
?4   A) ny (_C     jn   // pany
  
  
        nt (_      =n   // do not pronounce final t + stress the vowel
        nd (_      =n   // do not pronounce final d + stress the vowel
        nt (s_     =n   // do not pronounce final t + stress the vowel
        nd (s_     =n   // do not pronounce final d + stress the vowel
        nc (_      N    // velarization (cranc)
        ng (_      N    // velarization (fang)
        nc (s_     N    // velarization (crancs)
        ng (s_     N    // velarization (fangs)
        n  (L20_A  n    // avoid veralization before vowel  (fang espès)
        nt (_C     =n   // do not pronounce t
        ntm        mm	 // (recentment)
        ntb        mb   // (avantbraç)
        ntp        mb   // (avantpassat)
        nts        ns   // (avantsala)
        ntg        ns   // (avantguarda)
    tra) n (scend       // (transcendència)
        
        nt (-hA    =nt  // followed by clitic
        nd (-hA    =nt  // followed by clitic
        
            // accent variants
?3      nt (_      =nt   // (alt)
?3      nt (_A     =nt   // (alt)
?3      nt (_hA    =nt   // (alt)
?3      nt (_C     =n    // (alt)
?3      nd (_      =nd   // (alt)
?3      nd (_A     =nd   // (alt)
?3      nd (_hA    =nd   // (alt)
?3      nd (_C     =n    // (alt)
?3      nc (_      Nk    // velarization (cranc)
?3      ng (_      Nk    // velarization (fang)
?3      nc (_C     N     // velarization (cranc)
?3      ng (_C     N     // velarization (fang)

?4      nt (_      =nt   // (alt)
?4      nt (_A     =nt   // (alt)
?4      nt (_hA    =nt   // (alt)
?4      nt (_C     =n    // (alt)
?4      nd (_      =nd   // (alt)
?4      nd (_A     =nd   // (alt)
?4      nd (_hA    =nd   // (alt)
?4      nd (_C     =n    // (alt)
?4      nc (_      Nk    // velarization (cranc)
?4      ng (_      Nk    // velarization (fang)
?4      nc (_C     N     // velarization (cranc)
?4      ng (_C     N     // velarization (fang)


?3      nn         n    // (ennuvolat)
?3  _i) nn         nn   // (innecessari)
          
            // sant, cent, vint
  _L25) nt (_A     nt   // pronounce final t if followed by a vowel
  _L25) nt (_hA    nt   // pronounce final t if followed by a vowel
  _L25) nt (-h     nt   // pronounce final t if followed by a pronoun (anant-hi)


.group ñ // spanish words
         ñ         n^       

.group o
        o          o
    A_) o (_A      w    // (o aquest o aquell) 
    A_) o (_hA     w    // (o aquest o aquell) 
// REPASSAR
     @) o (r_      'o   // color ('o* per sensibilitzar la r)
     @) o (rs_     o    // color ('o* per sensibilitzar la r)
     @) o (ra_     'o   // color ('o* per sensibilitzar la r)
     @) o (res_    'o   // color ('o* per sensibilitzar la r)
  L05J) o (r_      o    // color ('o* per sensibilitzar la r)
  L05J) o (ra_     o    // color ('o* per sensibilitzar la r)
  L05J) o (res_    o    // color ('o* per sensibilitzar la r)
     t) o (r_      o2   // (pantocràtor)
     t) o (rs_     o2   // (pantocràtors)
        ou         O2w  // (mou)
     f) o (s       o    // (fos, fosca, fosa, etc.)
     f) o (sf      O    // (fosfo...)
     f) o (rme     o
     c) o (mt      o
     c) o (mpt     o
     s) o (pa_     o
     s) o (pes_    o
    _h) o (mosex   ,O
     _) o (leo     o2   // (oleoducte)

     X) o          O
        o (l       O
        o (i       O    // (boira)
        o (c       O    // (poc)
        o (m       O
        o (r       O
        o (t       O
        o (si      O
        o (st      O
        o (ni      O
        o (di      O
        o (g       O
        o (nt_     O
        o (nts_    O
    c)  o (pi_     O
    c)  o (pis_    O
    tr) o (p       O
    pr) o (p       O
    cl) o (p       O
    fl) o (p       O
    fl) o (r       O
    tr) o (de_     O
    tr) o (des_    O
     m) o (ne_     O
     m) o (nes_    O
     t) o (ng      O
    gl) o (ss      O
        o (ndri    O
        o (br      O
        o (bi_     O
        o (bis_    O
        o (bus_    O
        o (nd_     O
        o (nds_    O   
        o (fa_     O
        o (fes_    O
        o (va_     O
        o (ves_    O
        o (f_      O
        o (fs_     O
    p)  o (n       O
        o (nci_    O
        o (ncis_   O
        o (nça_    O
        o (nces_   O
        o (ca_     O
        o (ques_   O
        o (ja_     O
        o (jes_    O
        o (pa_     O
        o (pes_    O
        o (da_     O
        o (de_     O
        o (des_    O
        o (xi      O
        o (xis     O
        
   // prefixes with secondary stress
    _c) o (ntraA   ,o
    _c) o (ntraK   ,o
    _s) o (cio     ,O
    _s) o (bre@    ,o
    _b) o (ca@     ,o
catalan) o (@      o2
    _c) o (ll@     ,O
    _c) o (ma@     ,o
    _f) o (to      ,o
    _f) o (tocòp   ,o
    _p) o (rta     ,O
    _s) o (cio   ,O
    _s) o (ta   ,o
  
   // no secondary stress
    _c) o (ntraA$w_alt5  o
    _c) o (ntraK$w_alt5  o
    _c) o (ntract        o    // contracte
    _c) o (ntrast        o    // contrastar
    _s) o (cio$w_alt5    O
    _s) o (bre@$w_alt5   o
    _b) o (ca@$w_alt5    o
    _c) o (ll@$w_alt5    O
    _c) o (ma@$w_alt5    o
    _c) o (mand@         o
    _c) o (mare          o
    _c) o (marc@         o
    _f) o (to$w_alt5     o
    _f) o (togr          o
    _f) o (tocop         o
    _f) o (tocòp$w_alt5  o
    _p) o (rta$w_alt5    O
    _s) o (cio$w_alt5    O
    _s) o (ta$w_alt5     o
  macr) o (@             o2

        o  ($w_alt1+++   o    // list of excepcions of the rules
        o  ($w_alt2+++   O    // list of excepcions of the rules 
  L05J) or (_$w_alt4+    %oR   // final r is not silent and unestressed vowel
?4 L05J) or (_$w_alt4+   %o   // final r is silent and unestressed vowel
   
.group p
        p          p
        pm         mm   // gemination (capmoix)
?3      pm         bm   // (Capmany)
        ph         f
     _) pn         n    // (pneumàtic)
     _) ps         s    // (psicoanalista)
        
.group q
        q          k
        qu (L01    k    // front vowells (quinqué)
        qu (L02    kw   // (quatre)
        qü         kw   // (freqüències)
        
.group r
        r          R
     _) r          R    // (raig)
     A) rr (A      R    // (carro) 
     A) rr (_      **   // (xerr)      
     A) r (A       **   // (cara)
     C) r (A       **   // (groc)
?3   A) r (C       **   // (exercici)
?4   A) r (C       **   // (exercici)
          
     l) r (A       R    // (colrat)
     m) r (A       R    // (somrient)
     n) r (A       R    // (enrere)
     s) r (A       R    // (enrere)
     
   // prefixes that not change R
  _anti) r (A      R    // (antiraquític)
  _auto) r (A      R    // (autoregulació)
  _auto) r (itz    **   // (autoritzar)
_cefalo) r (A      R    // (cefaloraquidi)
    _co) r (esponsabili       R    // (coresponsabiliatat)
    _co) r (efer   R    // (coreferir)
     _e) r (adi    R    // (eradicar)
   _des) r (A      R    // (desratitzar)
    _bi) r (A      R    // (birotor)
   _neo) r (A      R    // (neorural)
  _orto) r (A      R    //
   _oto) r (A      R    //

_contra) r (A      R    // (contrareforma)
_contra) r (i      **   // (contrari)

 _intra) r (A      R    // (inraraquidi)
 _ibero) r (A      R    // (iberoromà)
  _meso) r (A      R    
  _mico) r (A      R    
  _tele) r (A      R    // (telereunió)
 _ultra) r (A      R    // (ultraric)
   _pre) r (A      R    // (preromànic)
     _a) r (iz     R    // (arizotònic)
     _a) r (ítmi   R    // (arítmic)
      p) r (end         // (prendre)
     
   // final r
         r (_        =  // final r is silent
     A)  rs (_       =s // final r is silent + stress the vowel
  L05J)  r (_           // final r is silent + do not stress the vowel
  L05J)  rs (_       s  // final r is silent + do not stress the vowel

         r (-++          R   // final r is not silent if followed by a pronoun

      A) r (-A           **   // final r is not silent if followed by a pronoun
      A) r (-hA          **   // final r is not silent if followed by a pronoun
         r (_$w_alt4+    R   // final r is not silent (motor)
         
?3   A)  r (_+           ** // final r is not silent
?3   A)  r (s_+          **=// final r is not silent + stress the vowel
?3 L05J) r (s_+          ** // final r is not silent + do not stress the vowel

?4    A) r (_$w_alt4+    =   // final r is always silent (motor)       
?4       r (s_$w_alt4+   =    // final r is always silent (motor)       
?4    A) r (-l+          l   // final r is assimilated if followed by a pronoun
?4    A) r (-t+          t   // final r is assimilated if followed by a pronoun
?4    A) r (-m+          m   // final r is assimilated if followed by a pronoun
?4    A) r (-s+          t   // final r is assimilated if followed by a pronoun

         r (_A$w_alt4+   **   // final r is not silent (motor acústic)
         r (_hA$w_alt4+  **   // final r is not silent (motor hidràulic)
        
         r (s_$w_alt4+   R   // final r is not silent
?3       r (s_$w_alt4+   **   // final r is not silent
    
                // suffixes with final R not silent
  L05Jfo)  r   (_        R
  L05Jfe)  r   (_        R
  L05Jco)  r   (_        R
  L05Jge)  r   (_        R
  L05Jpa)  r   (_        R
  L05Jte)  r   (_        R
  L05Jme)  r   (_        R
  L05Jto)  r   (_        R
 L05Jpte)  r   (_        R
 
  L05Jfo)  r   (s_       R
  L05Jfe)  r   (s_       R
  L05Jco)  r   (s_       R
  L05Jge)  r   (s_       R
  L05Jpa)  r   (s_       R
  L05Jte)  r   (s_       R
  L05Jme)  r   (s_       R
  L05Jto)  r   (s_       R
 L05Jpte)  r   (s_       R
  
   // silent consonants
      A)   rt (_         R    // (art)
      A)   rd (_         R    // (record)

      A)   rt (_A        Rt   // (art abstracte)
      A)   rd (_A        Rt   // (record abstracte)
      A)   rt (_C        R    // (art contemporani)
      A)   rd (_C        R    // (record tormentós)

      A)   rt (s_        R    // (arts)
      A)   rd (s_        R    // (records)
        
   // accent variants  
?1    A)   rt (_$w_alt4  Rt   // (sort)
?1    A)   rd (_$w_alt4  Rt   // (sord)
?1    A)   rt (_C$w_alt4 R    // (sort)
?1    A)   rd (_C$w_alt4 R    // (sord)    

?4    A)   rt (_$w_alt4  **t  // (sort)
?4    A)   rd (_$w_alt4  **t  // (sord)


?3    A)   rt (_      **t     // (art)
?3    A)   rt (_A     **t     // (art amic)
?3    A)   rt (s_     **t     // (arts) 
?3    A)   rt (_C     **      // (art bonic)
?3    A)   rd (_      **d     // (record)
?3    A)   rd (_A     **d     // (record amic)
?3    A)   rd (s_     **d     // (record)
?3    A)   rd (_C     **      // (record bonic)


?4    A)   rt (_     **    // (art)
?4    A)   rd (_     **    // (record)
?4    A)   rt (_A    **t   // (art abstracte)
?4    A)   rd (_A    **t   // (record abstracte)
?4    A)   rt (_C    **    // (art contemporani)
?4    A)   rd (_C    **    // (record tormentós) 
?4    A)   rc (_C    **    // (porc petit)
?4    A)   rp (_C    **    // (serp grossa)
?4    A)   rt (s_    **    // (arts)
?4    A)   rd (s_    **    // (records)
?4    A)   rt (_C$w_alt4     **    // (sort)
?4    A)   rd (_C$w_alt4     **    // (sord)

.group s
        s          s
     _) s' (P2     s    // apostrophe
        ss         s
        sc (L01    s    // (piscina, escena)
?4      sc (L01    ts   // (piscina, escena)
        sj         Z    // (cisjordània)
        sx         S    // (desxifrar)
        A) s  (A   z

     A) s  (-hA    z
     
     A) s  (-A     z
     A) s  (-L11   z
        
        s  (L11    z
     -) se (_      se
        
?1  aque) s  (t_
    aque) s  (ts_
    aque) s  (t_A   s
    aque) s  (t_hA  s
    aque) s  (t_C
    
       A) st (_C    =s
?4     A) st (_C    =t   // post
    

      _a) s (imetri s    // (asimetria)
      _a) s (imètri s    // (asimètriques)
     _bi) s (A      s    // (bisexual)
    _bio) s (A      s    // (bioseguretat)
    _eco) s (A      s    // (ecosistema)
    _neo) s (A      s    // ()
   _orto) s (A      s    // 
   _ante) s (A      s    // (antesala)
  _anglo) s (A      s    // (anglosaxó)
   _anti) s (A      s    // (antisocial)
   _auto) s (A      s    // (autorservei)
     _bi) s (A      s    // (bisecció)
 _contra) s (A      s    // (contrasentit)
  _entre) s (A      s    // (entresòl)
   _fito) s (A      s    // (fitosanitari)
   _idio) s (A      s    // (idiosincràcia)
   _mini) s (A      s    // (minisèrie)
   _mono) s (A      s    // (monosíl·lab)
  _multi) s (A      s    // (multisala)
   _homo) s (A      s    // (homosexual)
   _para) s (A      s    // (parasíntesi)
       @) s (òl     s    // (entresòl)@) s (òl     s    // (entresòl)
  _entre) s (ol     s    // (entresolar)
  _sobre) s (ol     s    // (sobresolar)
       @) s (exual  s    // (bisexualitat)
   _para) s (it     z    // (parasitosi)
  _sobre) s (A      s    // (sobresortir)
   _tele) s (A      s    // (telestrella)
    _pre) s (elecci s    // (preselecció)
     _re) s (itua   s    // (resituar)
  _ultra) s (A      s    // (ultrasò)
    _uni) s (A      s    // (unisexual)
   _vice) s (A      s    // (vicesecretari)
   _tran) s (A      z    // (transitar)
   _tràn) s (A      z    // (transitar)
  _enfon) s (a      z    // (enfonsar)
  
          sh        S    // foreign words
          
   // balearic assimilation and dissimilation
?4  Aix_) s         ts   // dissimilation (peix salat)
?4    s_) s         ts   // (dos sacs)

?4     A) s (_s     t    // pronounce -s as -t if followed by an s (dos sacs)
?4     A) s (_z     d    // pronounce -s as -d if followed by an z (sis zones)
?4     A) s (_cL01  t    // pronounce -s as -t  if followed by -ce/ci 
?4     A) s (-cL01  t    // pronounce -s as -t  if followed by -ce/ci
?4     A) s (_x     t    // dissimilation (mateix xarop)
?4     A) s (_j     d    // dissimilation (mateix joc)
?4     A) s (_gL01  d    // dissimilation (mateix gerro)
?4     A) s (_l     l    // dissimilation (es literat)
?4     A) s (_ll    l^   // dissimilation (dos llits)
?4     A) s (_r           // dissimilation (dos rius)

 ?4 Aig_) s         ts
 ?4 Atx_) s         ts

   // balearic elision
?4  AL04) s (_C          // semivowel + s + _ + consonant (feis cas, caus molt)
?4  AL04) s (_hA   s     // avoid elision
?4 L16ui) s (_C    s     // avoid elision

?4        s (L13_C       // s + plosive + _ + consonant (post de planxar)
?4        s (c_C         // s + c + _ + consonant (casc petit)

?4     C) s (_C          // consonant + s + _ + consonant (caps petits)
?4     C) s (_hA    s    // avoid elision

.group t
        t          t
     _) t' (P2     t    // apostrophe
        tg (L01    dZ   // (metge)
        tj         dZ   // (mitjà)
        tx         tS   // (esquitx)
        tz         dz   // (dotzena)
        tll        l^l^ // gemination (espatlla)
?3      tll        l^   // assimilation (espatlla)
?3      tl         ll   // ametla, atlas
?4      tll        ll   // assimilation (espatlla)

        tm         mm	// gemination (setmana)
   _so) tm         dm   // avoid gemination (sotmès)
?3      tm         m	// gemination (setmana)
        tn         nn	// gemination (cotna)
?3   i) tz (a      z    // (normalitzar) 
     i) tz (a      tz   // (normalitzar) 
        tt         t

?4   A) tx (_L13    i   // (vaig portar) 
?4   A) tx (_L14    t   // (vaig portar) 

.group u
        u          u
     A) u (K       w    // glide
     A) u (A       w    // glide
        uu         uw   // glide
        u (i       u    // not a glide
        u (ï       u    // not a glide
        uïx        uiS  // (traduïx)
        
?3      ui         wi   // (hui, huit)
?3      uix        ujS  // (bruixa)
?3      uig        udZ  // (rebuig)
        
L05Ji)  u (s_      u    // not a glide (Màrius)

            // prefixes with secondary stress
   _p)  u (ig      ,u    // (puigmal)
   _s)  u (per@    ,u    // (supermercat)
   _s)  u (pra@    ,u    // (suprarenal)
   _t)  u (rbo@    ,u    // (turboautomòbil)
    _)  u (ltra@   ,u    // 
        u (ltraC   ,u    // (ultrasò)
        u (ltraA   ,u    // (ultraaudió)
        
            // no secondary stress
   _p)  u (ig$w_alt5      ,u    // (puigmal)
   _s)  u (per@$w_alt5    ,u    // (supermercat)
   _s)  u (pra@$w_alt5    ,u    // (suprarenal)
   _t)  u (rbo@$w_alt5    ,u    // (turboautomòbil)
    _)  u (ltra@$w_alt5   ,u    // (ultradreta)
    
.group v
       v          b
?3     v          v
?4     v          v

 
.group w
       w          b
?3     w          v


.group x
         x         ks   // (taxi)
         xt (_     ks   // (text)
     _e) x  (A     gz   // (examen)
   _coe) x  (A     gz   // (coexistir)
    
     _è) x  (A     gz   // (èxode)
     _e) x  (L11   gz   
    
     _A) x  (A     ks   // (oxigen)
     _A) x  (L10   ks   // unvoiced consonant (excampió) 
     _A) xj        gZ   // (exjutge)
     _A) xg (L01   gZ   // (exgeneral)
     _A) xs        ks   // (exsecretari)
         xc (L01   ks   // (excedeix)
        
?4   _A) x  (A     dZ   // (exàmen)
?4   _e) x  (A     dZ   // (exàmen)
        
?4 Aix_) x         tS   // dissimilation (mateix xarop)
?4   s_) x         tS   // (compres xarop)
?4   ç_) x         tS   // (llaç xamós)
?4 Aig_) x         tS
?4 Atx_) x         tS
     
   _L05) x (A       ks   
      K) x          S    // (linx)

.group y
         y          i
         y (A       j


.group z
         z         z
         zs        s

?4 Aix_) z         dz    // dissimilation (sis zones)
?4   s_) z         dz    // (mateix zero)
?4   ç_) z         dz    // (llaç zenital)
?4 Aig_) z         dZ
?4 Atx_) z         dZ

.group
         à         ''a   // force stress onto this vowel
         é         ''e
         è         ''E
         í         ''i
         ó         ''o
         ò         ''O
         ú         ''u
         ï         i
         ŀ         l
         ü         u
      g) ü         w
         ñ         n^

         $         dolaR
        
?4       è         ''@     // wordlist: balearic stressed @
?4       é ($w_alt5++ ''@  // wordlist: balearic stressed @


        // cross-accent adaptations
?2       è (s_      ''e  // final "ès" is pronounced "és" in western accents (francès)
?2       è (s_      ''e  // final "èn" is pronounced "én" in western accents (francès)
?2       è (_       ''e  // final "è" is pronounced "é" in western accents (francès)
?2       è (ixer_   ''e
?2       è (ncer_   ''e
?2       è (nyer_   ''e
?2       è (iem_    ''e
?2       è (ieu_    ''e
?2       è ($w_alt1++    ''e

?1       é (ncer_   ''E
?1       é (nyer_   ''E
?1       é (iem_    ''E
?1       é (ieu_    ''E


.group '
         'n (_S2t    n
         'm (_S2t    m
         't (_S2t    t
         'l (_S2t    l
         's (_S2t    s
         'ns (_S3t   ns
         'us (_S3t   us
      A) 'us (_S3t   ws
         'ls (_S3t   ls
